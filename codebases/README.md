# Кодовые базы как датасет

Этот каталог управляет репозиториями с исходным кодом, которые используются в качестве основного набора данных для Code Intelligence Assistant (CIA). Кодовые базы версионируются с помощью DVC для обеспечения воспроизводимости.

## `codebases.yaml`

Этот файл содержит список URL-адресов Git-репозиториев, которые должны быть включены в набор данных. Чтобы добавить или удалить репозиторий, просто отредактируйте этот файл.

## `repositories-converge.py`

Этот скрипт на Python отвечает за синхронизацию кодовых баз со списком в `codebases.yaml`. Он выполняет следующие действия для каждого репозитория:

1.  **Клонирует** репозиторий в структурированный путь (например, `codebases/github.com/user/repo`).
2.  **Удаляет** каталог `.git`, чтобы рассматривать кодовую базу как чистый снимок данных.
3.  **Добавляет** кодовую базу в DVC, создавая файл `.dvc`.
4.  **Отправляет** кеш DVC в настроенное удаленное хранилище S3.

### Использование

Чтобы запустить скрипт и обновить кодовые базы, выполните следующую команду из корня проекта:

```bash
source ./.venv/bin/activate
python codebases/repositories-converge.py
```
